{"remainingRequest":"/opt/client/node_modules/babel-loader/lib/index.js!/opt/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/client/src/components/admin/manageCompany.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/client/src/components/admin/manageCompany.vue","mtime":1582320098836},{"path":"/opt/client/node_modules/cache-loader/dist/cjs.js","mtime":1582320095676},{"path":"/opt/client/node_modules/babel-loader/lib/index.js","mtime":1582320095572},{"path":"/opt/client/node_modules/cache-loader/dist/cjs.js","mtime":1582320095676},{"path":"/opt/client/node_modules/vue-loader/lib/index.js","mtime":1582320098604}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/opt/client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DBService from \"../DBService\"; //import TodoItem from './TodoItem.vue';\n\nexport default {\n  name: 'ManageCompany',\n  components: {},\n  data: function data() {\n    return {\n      //    Firmen:[],     -->    verschoben in $parent -> manageIndex            \n      newCompany: \"\"\n    };\n  },\n  props: {\n    msg: String\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  methods: {\n    AddCompany: function () {\n      var _AddCompany = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var _newCompany;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _newCompany = this.newCompany;\n                console.log(_newCompany);\n                _context2.next = 4;\n                return DBService.DBAddCompany(_newCompany).then(function () {\n                  return _this.$parent.updateAll();\n                }).catch(function (error) {\n                  return alert(\"Server returned an Error:\\n\" + error.response.data);\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function AddCompany() {\n        return _AddCompany.apply(this, arguments);\n      }\n\n      return AddCompany;\n    }(),\n    toggleCompay: function () {\n      var _toggleCompay = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(id, enabled) {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(\"toggle Company\");\n                _context3.next = 3;\n                return DBService.toggleEntry(\"Firmen\", id, enabled).then(function () {\n                  return _this2.$parent.updateAll();\n                }) //.catch((error) => alert(JSON.stringify(error.response)));\n                .catch(function (error) {\n                  return alert(\"Server returned an Error:\\n\" + error.response.data);\n                });\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function toggleCompay(_x, _x2) {\n        return _toggleCompay.apply(this, arguments);\n      }\n\n      return toggleCompay;\n    }()\n  }\n};",{"version":3,"sources":["manageCompany.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,SAAA,qB,CACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA;AACA,MAAA,UAAA,EAAA;AAFA,KAAA;AAKA,GAVA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkBA,EAAA,OAAA,EAAA;AAEA,IAAA,UAFA;AAAA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAGA,gBAAA,WAHA,GAGA,KAAA,UAHA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AAJA;AAAA,uBAKA,SAAA,CAAA,YAAA,CAAA,WAAA,EACA,IADA,CACA;AAAA,yBAAA,KAAA,CAAA,OAAA,CAAA,SAAA,EAAA;AAAA,iBADA,EAEA,KAFA,CAEA,UAAA,KAAA;AAAA,yBAAA,KAAA,CAAA,gCAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AAAA,iBAFA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAUA,IAAA,YAVA;AAAA;AAAA;AAAA,gDAUA,EAVA,EAUA,OAVA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AAXA;AAAA,uBAYA,SAAA,CAAA,WAAA,CAAA,QAAA,EAAA,EAAA,EAAA,OAAA,EACA,IADA,CACA;AAAA,yBAAA,MAAA,CAAA,OAAA,CAAA,SAAA,EAAA;AAAA,iBADA,EAEA;AAFA,iBAGA,KAHA,CAGA,UAAA,KAAA;AAAA,yBAAA,KAAA,CAAA,gCAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AAAA,iBAHA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAlBA,CAAA","sourcesContent":["<template>\r\n\r\n    <div >\r\n        \r\n   <!--     <h1> {{msg}} </h1> -->\r\n              <section class=\"form\">\r\n            <input class=\"form-control\" v-model=\"newCompany\" placeholder=\"Firmen-Name\"/>\r\n            <button type=\"button\" class=\"btn btn-success\" @click='AddCompany'>Firma anlegen</button>\r\n\r\n                                    <hr/>\r\n            <div >\r\n                <table class=\"table  table-striped table-dark\" >\r\n                   <thead class=\"thead-dark\">\r\n                      <tr>\r\n                        <th scope=\"col\">Firma</th>\r\n                        <th scope=\"col\">(de-)aktivieren</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody >\r\n                    <tr v-for=\"firma in this.$parent.Firmen\" v-bind:key=\"firma.id\"> \r\n                        <template v-if=\"firma.enabled === 1\">\r\n                            <td>{{firma.name}}</td>                        \r\n                            <td align = \"right\">    <button type=\"button\" class=\"btn-disable\" @click='toggleCompay(firma.id, firma.enabled)'>disable</button> </td>\r\n                        </template>\r\n                        <template v-if=\"firma.enabled === 0\">\r\n                            <td class=\"disabledColumn\">{{firma.name}}</td>\r\n                            <td class=\"disabledColumn\" align = \"right\">    <button type=\"button\" class=\"btn-enable\" @click='toggleCompay(firma.id, firma.enabled)'>Enable</button> </td>\r\n                        </template>                        \r\n                    </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n              </section>\r\n              \r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DBService from '../DBService';\r\n//import TodoItem from './TodoItem.vue';\r\nexport default {\r\n    name: 'ManageCompany',\r\n    components :{    \r\n    },\r\n    data() {\r\n        return {\r\n        //    Firmen:[],     -->    verschoben in $parent -> manageIndex            \r\n            newCompany: \"\",\r\n            \r\n        }        \r\n    },\r\n    props: {\r\n        msg: String \r\n    },\r\n    async created() {\r\n         //this.$parent.updateAll()\r\n       \r\n    },\r\n    methods: {\r\n       \r\n       async AddCompany() {\r\n            var _newCompany = this.newCompany;\r\n            console.log( _newCompany);\r\n           await DBService.DBAddCompany(_newCompany)                \r\n                .then(() =>   this.$parent.updateAll())\r\n                .catch((error) => alert((\"Server returned an Error:\\n\" + error.response.data)));\r\n        },\r\n\r\n        async toggleCompay(id,enabled){\r\n        console.log(\"toggle Company\")\r\n        await DBService.toggleEntry(\"Firmen\",id,enabled)        \r\n        .then(() =>  this.$parent.updateAll())\r\n        //.catch((error) => alert(JSON.stringify(error.response)));\r\n        .catch((error) => alert((\"Server returned an Error:\\n\" + error.response.data)));\r\n        }\r\n    }\r\n            \r\n    \r\n}\r\n</script> \r\n\r\n\r\n                                <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n                                <style scoped=\"scoped\">\r\n                                    div.container {\r\n                                        max-width: 90%;\r\n                                        \r\n                                    }\r\n\r\n                                  \r\n                                    p.error {\r\n                                        border: 1px solid #ff5b5f;\r\n                                        background-color: #ffc5c1;\r\n                                        padding: 10px;\r\n                                        margin-bottom: 15px;\r\n                                    }\r\n\r\n                                    div.entryRow {\r\n                                        position: relative;\r\n                                        border: 1px solid #5bd658;\r\n                                        background-color: #bcffb8;\r\n                                        padding: 10px 10px 1px;\r\n                                        margin-bottom: 0px;\r\n                                    }\r\n\r\n                                    div.created-at {\r\n                                        position: absolute;\r\n                                        top: 0;\r\n                                        left: 0;\r\n                                        padding: 5px 15px;\r\n                                        background-color: darkgreen;\r\n                                        color: white;\r\n                                        font-size: 13px;\r\n                                    }\r\n\r\n                                    p.text {\r\n                                        font-size: 22px;\r\n                                        font-weight: 700;\r\n                                        margin-bottom: 0;\r\n                                    }\r\n                                    \r\n                                    p.smalltext {\r\n                                        font-size: 14px;\r\n                                        font-weight: 500;\r\n                                        margin-bottom: 0;\r\n                                    }\r\n                                    /* table {\r\n                                      width: 100%;\r\n                                      text-align: left;\r\n                                      border: 1px solid black;\r\n                                      border-collapse: collapse;\r\n                                           \r\n                                    }\r\n                                    th {\r\n                                      padding: 5px;\r\n                                      font-weight: 700;\r\n                                      border: 1px solid black;\r\n                                      vertical-align: middle;\r\n                                    } */\r\n                                     td {\r\n                                       padding: 4px;\r\n                                       font-size: 14px;\r\n                                       font-weight: 500;\r\n                                       margin-bottom: 0;\r\n                                       border: 1px solid black;\r\n                                       vertical-align: middle;\r\n                                       align: left;\r\n                                    }\r\n                                    .btn-disable {\r\n                                        background-color: rgb(53, 53, 53);\r\n                                        color: rgb(236, 48, 48);\r\n                                        border: 2px solid rgb(179, 7, 7); /* Green */\r\n                                    }\r\n                                    .btn-enable {\r\n                                        background-color: rgb(53, 53, 53);\r\n                                        color: rgb(124, 223, 148);\r\n                                        border: 2px solid rgb(0, 145, 43); /* Green */\r\n                                    }\r\n \r\n                                </style>"],"sourceRoot":"src/components/admin"}]}