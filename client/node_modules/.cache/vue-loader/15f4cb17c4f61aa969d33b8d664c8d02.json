{"remainingRequest":"/opt/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/client/src/components/admin/manageItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/client/src/components/admin/manageItems.vue","mtime":1582320098836},{"path":"/opt/client/node_modules/cache-loader/dist/cjs.js","mtime":1582320095676},{"path":"/opt/client/node_modules/babel-loader/lib/index.js","mtime":1582320095572},{"path":"/opt/client/node_modules/cache-loader/dist/cjs.js","mtime":1582320095676},{"path":"/opt/client/node_modules/vue-loader/lib/index.js","mtime":1582320098604}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n                import DBService from '../DBService';\n                // import {__vlsIterationHelper} from '../../../vue-temp/vue-editor-bridge';\n                // import TodoItem from './TodoItem.vue';\n                export default {\n                    name: 'ManageItems',\n                    components: {},\n                    data() {\n                        return {\n//                            Items: [],  \n                            newItemText: \"\",\n                         //   Abteilungen: [],\n                          //  Processors: [],\n                            selectedDepartment: \"\",\n                            selectedProcessor: \"\",\n                            selectedType: \"\",\n                            newItemChooseOptions: \"\"\n                        }\n                    },\n                    props: {\n                        msg: String\n                    },\n                    created() {\n                        \n                    },\n                    methods: {\n                       async AddItem() {\n                            if (!this.selectedDepartment) \n                                this.selectedDepartment = 1;\n                            \n                            if (this.selectedType == \"Choose\") {\n                                this.selectedType = \"Choose:\" + this.newItemChooseOptions;\n                            }\n\n                            if (this.selectedType == \"\" || this.selectedProcessor == \"\") {\n                                alert(\"Error: no type or Processor choosen\")\n                            } else {\n                                \n\n                            const _NewItem = {\n                                newItemText: this.newItemText, \n                                selectedDepartment: this.selectedDepartment,\n                                selectedProcessor: this.selectedProcessor,\n                                selectedType: this.selectedType,\n                                newItemChooseOptions: this.newItemChooseOptions\n                            };\n\n                            await DBService\n                                .DBAddItem(_NewItem)\n                                .then (() => this.$parent.updateAll())\n                                .then (() => {\n                                    this.newItemText = \"\";\n                                    this.selectedDepartment = \"\";\n                                    this.selectedProcessor = \"\";\n                                    this.selectedType = \"\";\n                                    this.newItemChooseOptions = \"\";\n                                })\n                                .catch((error) => alert((\"Server returned an Error:\\n\" + error.response.data)));                                \n                            }\n                        },\n\n                        async toggleItem(id, enabled) {\n                            await DBService.toggleEntry(\"Items\", id, enabled);\n                            //this.updateAllData()\n                            this.$parent.updateAll();\n                        }\n                    }\n                }\n                \n            ",{"version":3,"sources":["manageItems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"manageItems.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n\r\n    <div class=\"ManageItems\">\r\n\r\n        <!-- <h1> {{msg}} </h1> -->\r\n        <section class=\"form\">\r\n            <input class=\"form-control\" v-model=\"newItemText\" placeholder=\"Item-Text\"/>\r\n            Abteilung, für die das Item verfügbar ist ( ALL = Alle Abteilungen):\r\n            <select\r\n                name=\"NewItemDepartment\"\r\n                v-model=\"selectedDepartment\"                 \r\n                 @click=\"this.$parent.updateAll()\"              \r\n                class=\"btn btn-secondary dropdown-toggle\">\r\n                <!-- <option :value=\"comp.id\">{{comp.id}} </option> -->                \r\n                <option v-for=\"dep in this.$parent.Abteilungen\" v-bind:key=\"dep.id\" :value=\"dep.id\" v-if=\"dep.enabled===1\">{{dep.name}}\r\n                </option>\r\n            </select>\r\n            <br>\r\n                Bearbeitende Abteilung:\r\n                <select\r\n                    name=\"NewItemProcessor\"\r\n                    v-model=\"selectedProcessor\"                       \r\n                     @click=\"this.$parent.updateAll()\"                 \r\n                    class=\"btn btn-secondary dropdown-toggle\">\r\n                    <!-- <option :value=\"comp.id\">{{comp.id}} </option> -->\r\n                    <option v-for=\"proc in this.$parent.Processors\" v-bind:key=\"proc.id\" :value=\"proc.id\" v-if=\"proc.enabled===1\">{{proc.name}}\r\n                    </option>\r\n                </select>\r\n                <br>\r\n                    Typ des Items:\r\n                    <select\r\n                        name=\"NewItemType\"\r\n                        v-model=\"selectedType\"\r\n                        class=\"btn btn-secondary dropdown-toggle\">\r\n                        <!-- <option :value=\"comp.id\">{{comp.id}} </option> -->\r\n                        <option >CheckBox</option>\r\n                        <option >Choose</option>\r\n                        <option >Text</option>\r\n                    </select>\r\n                    <input\r\n                        v-if=\"selectedType === 'Choose'\"\r\n                        class=\"form-control\"\r\n                        v-model=\"newItemChooseOptions\"\r\n                        placeholder=\"Optionen, die zur Auswahl stehen. ( Eins;Zwei;Drei; )\"/>\r\n\r\n                    <br>\r\n                        <button type=\"button\" class=\"btn btn-success\" @click='AddItem'>Item anlegen</button>\r\n                        <hr/>\r\n                        <div >\r\n                            <table class=\"table  table-striped table-dark\">\r\n                                <thead class=\"thead-dark\">\r\n                                    <tr>\r\n                                        <th scope=\"col\">Item</th>\r\n                                        <th scope=\"col\">Abteilung</th>\r\n                                        <th scope=\"col\">Bearbeiter</th>\r\n                                        <th scope=\"col\">Type/Value</th>\r\n                                        <th scope=\"col\">(de-)aktivieren</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody >\r\n                                    <tr v-for=\"item in this.$parent.Items\" v-bind:key=\"item.id\">\r\n                                        <template v-if=\"item.enabled === 1\">\r\n                                            <td>{{item.Text}}</td>\r\n                                            <td>{{item.DepId}}</td>\r\n                                            <td>{{item.ProcessorId}}</td>\r\n                                            <td>{{item.ItemType}}</td>\r\n                                            <td align=\"right\">\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    class=\"btn-disable\"\r\n                                                    @click='toggleItem(item.id, item.enabled)'>disable</button>\r\n                                            </td>\r\n                                        </template>\r\n                                        <template v-if=\"item.enabled === 0\">\r\n                                            <td class=\"disabledColumn\">{{item.Text}}</td>\r\n                                            <td class=\"disabledColumn\">{{item.DepId}}</td>\r\n                                            <td class=\"disabledColumn\">{{item.ProcessorId}}</td>\r\n                                            <td class=\"disabledColumn\">{{item.ItemType}}</td>\r\n                                            <td class=\"disabledColumn\" align=\"right\">\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    class=\"btn-enable\"\r\n                                                    @click='toggleItem(item.id, item.enabled)'>Enable</button>\r\n                                            </td>\r\n                                        </template>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </section>\r\n\r\n                </div>\r\n            </template>\r\n\r\n            <script>\r\n                import DBService from '../DBService';\r\n                // import {__vlsIterationHelper} from '../../../vue-temp/vue-editor-bridge';\r\n                // import TodoItem from './TodoItem.vue';\r\n                export default {\r\n                    name: 'ManageItems',\r\n                    components: {},\r\n                    data() {\r\n                        return {\r\n//                            Items: [],  \r\n                            newItemText: \"\",\r\n                         //   Abteilungen: [],\r\n                          //  Processors: [],\r\n                            selectedDepartment: \"\",\r\n                            selectedProcessor: \"\",\r\n                            selectedType: \"\",\r\n                            newItemChooseOptions: \"\"\r\n                        }\r\n                    },\r\n                    props: {\r\n                        msg: String\r\n                    },\r\n                    created() {\r\n                        \r\n                    },\r\n                    methods: {\r\n                       async AddItem() {\r\n                            if (!this.selectedDepartment) \r\n                                this.selectedDepartment = 1;\r\n                            \r\n                            if (this.selectedType == \"Choose\") {\r\n                                this.selectedType = \"Choose:\" + this.newItemChooseOptions;\r\n                            }\r\n\r\n                            if (this.selectedType == \"\" || this.selectedProcessor == \"\") {\r\n                                alert(\"Error: no type or Processor choosen\")\r\n                            } else {\r\n                                \r\n\r\n                            const _NewItem = {\r\n                                newItemText: this.newItemText, \r\n                                selectedDepartment: this.selectedDepartment,\r\n                                selectedProcessor: this.selectedProcessor,\r\n                                selectedType: this.selectedType,\r\n                                newItemChooseOptions: this.newItemChooseOptions\r\n                            };\r\n\r\n                            await DBService\r\n                                .DBAddItem(_NewItem)\r\n                                .then (() => this.$parent.updateAll())\r\n                                .then (() => {\r\n                                    this.newItemText = \"\";\r\n                                    this.selectedDepartment = \"\";\r\n                                    this.selectedProcessor = \"\";\r\n                                    this.selectedType = \"\";\r\n                                    this.newItemChooseOptions = \"\";\r\n                                })\r\n                                .catch((error) => alert((\"Server returned an Error:\\n\" + error.response.data)));                                \r\n                            }\r\n                        },\r\n\r\n                        async toggleItem(id, enabled) {\r\n                            await DBService.toggleEntry(\"Items\", id, enabled);\r\n                            //this.updateAllData()\r\n                            this.$parent.updateAll();\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            </script>\r\n\r\n            <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n            <style scoped=\"scoped\">\r\n\r\n\r\n                div.container {\r\n                    max-width: 90%;\r\n\r\n                }\r\n\r\n                p.error {\r\n                    border: 1px solid #ff5b5f;\r\n                    background-color: #ffc5c1;\r\n                    padding: 10px;\r\n                    margin-bottom: 15px;\r\n                }\r\n\r\n                div.entryRow {\r\n                    position: relative;\r\n                    border: 1px solid #5bd658;\r\n                    background-color: #bcffb8;\r\n                    padding: 10px 10px 1px;\r\n                    margin-bottom: 0;\r\n                }\r\n\r\n                div.created-at {\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    padding: 5px 15px;\r\n                    background-color: darkgreen;\r\n                    color: white;\r\n                    font-size: 13px;\r\n                }\r\n\r\n                p.text {\r\n                    font-size: 22px;\r\n                    font-weight: 700;\r\n                    margin-bottom: 0;\r\n                }\r\n\r\n                p.smalltext {\r\n                    font-size: 14px;\r\n                    font-weight: 500;\r\n                    margin-bottom: 0;\r\n                }\r\n                /* table {\r\n                                      width: 100%;\r\n                                      text-align: left;\r\n                                      border: 1px solid black;\r\n                                      border-collapse: collapse;\r\n                                           \r\n                                    }\r\n                                    th {\r\n                                      padding: 5px;\r\n                                      font-weight: 700;\r\n                                      border: 1px solid black;\r\n                                      vertical-align: middle;\r\n                                    } */\r\n                td {\r\n                    padding: 4px;\r\n                    font-size: 14px;\r\n                    font-weight: 500;\r\n                    margin-bottom: 0;\r\n                    border: 1px solid black;\r\n                    vertical-align: middle;\r\n                    align: left;\r\n                }\r\n                .btn-disable {\r\n                    background-color: rgb(53, 53, 53);\r\n                    color: rgb(236, 48, 48);\r\n                    border: 2px solid rgb(179, 7, 7);\r\n                    /* Green */\r\n                }\r\n                .btn-enable {\r\n                    background-color: rgb(53, 53, 53);\r\n                    color: rgb(124, 223, 148);\r\n                    border: 2px solid rgb(0, 145, 43);\r\n                    /* Green */\r\n                }\r\n            </style>"]}]}